{% extends "main-styles.html" %}

<!-- Render hero under tabs -->
{% block tabs %}
{{ super() }}

<!-- Hero for landing page -->
<style>
  .md-header {
    position: sticky
  }

  .md-main__inner {
    margin: 0
  }

  .md-content {
    display: none
  }

  @media screen and (min-width:60em) {
    .md-sidebar--secondary {
      display: none
    }
  }

  @media screen and (min-width:76.25em) {
    .md-sidebar--primary {
      display: none
    }
  }

  code[class="language-python"] {
        font-size: 0.75rem;
  }

  code[class="language-javascript"] {
        font-size: 0.75rem;
  }
  
</style>

<!--documetation-->
<section class="section-dark-body w-100">
  <div class="md-grid conteiner-row pt-1 pt-lg-5 my-4">
    <div class="px-3 ctx-header-text conteiner">
      <div class="conteiner-row">
        <p class="h1 text-xs-center t-b">
          <span style= "color:#E65100;">SIEVE</span>
        </p>
      </div>
      <img src="assets/images/logos/sieve-logo.svg"
        class="laverage-header-img d-lg-none d-xl-none d-md-none d-sm-none d-xs-none mx-auto" />
      <p class="h2-1 text-xs-center spacing t-b mb-5" style="font-family:Sans-serif; color:#ea844e;" id="animated-text"></p>
      <div class="conteiner-row conteiner-xs">
        <button type="button" title="{{ page.next_page.title | e }}"
        onclick="scrollToLearnMoreSection()"
          class="btn-yellow btn-xl-large btn-lg-large mx-2 mt-2 my-md-4 my-lg-4 my-xl-4 box-shadow">
          How it works
        </button>
        <button type="button" title="{{ page.next_page.title | e }}" 
          onclick="window.open('https://yazhuozhang.com/assets/pdf/nsdi24-sieve.pdf', '_blank')"
          class="btn-yellow btn-xl-large btn-lg-large mx-2 mt-2 my-md-4 my-lg-4 my-xl-4 box-shadow">
          To appear in NSDI'24
        </button>
      </div>
    </div>
  </div>
</section>

<section class="section-white-body w-100" , id="howdoeswork">
  <div class="text-align-center t-b text-dark h1 mt-5">
    <p>How does SIEVE work?</p>
  </div>
  <div class="center-container my-2">
    <img src="assets/images/illustrations/sieve_diagram.gif" class="howdoeswork-img my-xs-5 my-sm-5 my-md-5" />
  </div>

</section>

<section class="section-yellow-body w-100" , id="howgood">
  <div class="text-align-center t-b text-white h1 my-5">
    <p>How is SIEVE different?</p>
  </div>

  <div class="two-column-container my-3">
    <div class="howgood-chart d-lg text-center">
      <p class="h2 text-xs-center spacing t-b my-5" style="font-family:Sans-serif; color:#f5f1ef;">Simplicity</p>
    </div>

    <div class="howgood-chart d-lg my-3">
      <a>
        <img src="assets/images/illustrations/efficiency.png" loading="lazy" width="600" height="400" class="image-shadow">
      </a>
    </div>
  </div>

  <div class="two-column-container my-3">
    <div class="howgood-chart d-lg my-3 pl-5 ">
      <a>
        <img src="assets/images/illustrations/primitive.png" loading="lazy" width="600" height="400" class="image-shadow">
      </a>
    </div>
    <div class="howgood-chart d-lg text-center">
      <p class="h2 text-xs-center spacing t-b my-5" style="font-family:Sans-serif; color:#f5f1ef;">Efficiency</p>
    </div>
  </div>

  <div class="two-column-container my-3">
    <div class="howgood-chart d-lg text-center">
      <p class="h2 text-xs-center spacing t-b my-5" style="font-family:Sans-serif; color:#f5f1ef;">Cache Primitive</p>
    </div>

    <div class="howgood-chart d-lg my-3">
      <a>
        <img src="assets/images/illustrations/primitive.png" loading="lazy" width="600" height="400" class="image-shadow">
      </a>
    </div>
  </div>
</section>




<section class="section-white-body w-100" , id="adoption">
  <div class="text-align-center t-b text-dark h1-2 mt-4">
    <p>Adoption</p>
  </div>

  <div class="text-align-center italic t-500 text-dark h3 my-3">
    <p>More to come!</p>
  </div>

</section>

<section class="section-white-body w-100" , id="sponsors">
  <div class="text-align-center t-b text-dark h1-2 mt-4">
    <p>Acknowledgement</p>
  </div>

  <div class="text-align-center t-500 text-dark h3 my-3">
    <p><span class="t-b italic h2-2">Sponsors:</span><br>
      <a href="https://csd.cmu.edu/" target="_blank" class="custom-link-text">Carnegie Mellon University</a> <a href="https://www.pdl.cmu.edu/index.shtml" target="_blank" class="custom-link-text">Parallel Data Laboratory</a>
      <a href="https://www.cs.emory.edu/home/" target="_blank" class="custom-link-text">Emory University</a> <a href="https://simbiosys.mathcs.emory.edu/home" target="_blank" class="custom-link-text">SimBioSys Lab</a><br>
      Meta, Google, AWS, Microsoft, CloudLab, NSF</p><br>
    <p><span class="t-b italic h2-2">Dataset source:</span><br> 
      Meta, Tencent, Microsoft, Wikimedia, CloudPhysics</p>
  </div>

</section>


<section class="section-white-body w-100" , id="contactus">
  <div class="text-align-center t-b text-dark h1-2 mt-4">
    <p>Contact Us</p>
  </div>

  <div class="text-align-center t-500 text-dark h3 mt-3 mb-5">
    <a href="mailto:cachemon.org@gmail.com" target="_blank" class="custom-link">
      <i class="fa-solid fa-envelope fa-2x"></i></a>
    <a href="https://join.slack.com/t/cachemon/shared_invite/zt-20pjil08z-f9d1Ui~p1gfBnsedHP9x8Q" target="_blank" class="custom-link">
      <i class="fa-brands fa-slack fa-2x"></i></a>
    <a href="https://twitter.com/cachemon_org" target="_blank" class="custom-link">
      <i class="fa-brands fa-twitter fa-2x"></i></a>
    <a href="https://github.com/cacheMon" target="_blank" class="custom-link">
      <i class="fa-brands fa-github fa-2x"></i></a>
  </div>

</section>


<!-- Footer
<footer class="bg-dark w-100">
  <div class="center-footer my-4">
    <div class="icon-container">
      <a href="https://join.slack.com/t/cachemon/shared_invite/zt-20pjil08z-f9d1Ui~p1gfBnsedHP9x8Q" target="_blank">
        <img src="assets/images/logos/socialmedia/slack.svg" title="Slack" class="mx-1 cursor-pointer item-social-media"
          width="10%" />
      </a>
      <a href="https://www.linkedin.com/in/yazhuo-zhang-80833b15b/" target="_blank">
        <img src="assets/images/logos/socialmedia/linkedIn.svg" title="linkedIn"
          class="mx-1 cursor-pointer item-social-media" width="10%" />
      </a>
      <a href="https://github.com/cacheMon" target="_blank">
        <img src="assets/images/logos/socialmedia/github.svg" title="Github"
          class="mx-1 cursor-pointer item-social-media" width="10%" />
      </a>
      <a href="https://twitter.com/cachemon_org" target="_blank">
        <img src="assets/images/logos/socialmedia/twitter.svg" title="Twitter"
          class="mx-1 cursor-pointer item-social-media" width="10%" />
      </a>
    </div>
  </div>
</footer> -->

<script>

  // class Log2Axis extends Chart.Scale {
  //   constructor(cfg) {
  //     super(cfg);
  //     this._startValue = undefined;
  //     this._valueRange = 0;
  //   }

  //   parse(raw, index) {
  //     const value = Chart.LinearScale.prototype.parse.apply(this, [raw, index]);
  //     return isFinite(value) && value > 0 ? value : null;
  //   }

  //   determineDataLimits() {
  //     const {
  //       min,
  //       max
  //     } = this.getMinMax(true);
  //     this.min = isFinite(min) ? Math.max(0, min) : null;
  //     this.max = isFinite(max) ? Math.max(0, max) : null;
  //   }

  //   buildTicks() {
  //     const ticks = [];

  //     let power = Math.floor(Math.log2(this.min || 1));
  //     let maxPower = Math.ceil(Math.log2(this.max || 2));
  //     while (power <= maxPower) {
  //       ticks.push({
  //         value: Math.pow(2, power)
  //       });
  //       power += 1;
  //     }

  //     this.min = ticks[0].value;
  //     this.max = ticks[ticks.length - 1].value;
  //     return ticks;
  //   }

  //   /**
  //    * @protected
  //    */
  //   configure() {
  //     const start = this.min;

  //     super.configure();

  //     this._startValue = Math.log2(start);
  //     this._valueRange = Math.log2(this.max) - Math.log2(start);
  //   }

  //   getPixelForValue(value) {
  //     if (value === undefined || value === 0) {
  //       value = this.min;
  //     }

  //     return this.getPixelForDecimal(value === this.min ? 0 :
  //       (Math.log2(value) - this._startValue) / this._valueRange);
  //   }

  //   getValueForPixel(pixel) {
  //     const decimal = this.getDecimalForPixel(pixel);
  //     return Math.pow(2, this._startValue + decimal * this._valueRange);
  //   }
  // }

  // Log2Axis.id = 'log2';
  // Log2Axis.defaults = {};

  // Chart.register(Log2Axis);


  function scrollToLearnMoreSection() {
    const usageSection = document.getElementById('howdoeswork');
    usageSection.scrollIntoView({ behavior: 'smooth' });
  }

  function getFontSize() {
    const width = window.innerWidth;
    if (width < 600) {
      return 10; // Small screen font size
    } else if (width < 1000) {
      return 16; // Medium screen font size
    } else {
      return 20; // Large screen font size
    }
  }


  // barchar (performance-chart)
  // Data
  const dataChartBarDoubleDatasetsExample = {
    type: 'bar',
    data: {
      labels: ['Meta', 'Twitter', 'Wikimedia', 'Tencent', 'CDN'],
      datasets: [
        {
          label: 'FIFO',
          data: [0.0938,0.0574,0.1087,0.0967,0.0767],
          backgroundColor: '#889ABD',
          borderColor: '#889ABD',
        },
        {
          label: 'LRU',
          data: [0.0812,0.0488,0.0803,0.0659,0.0688],
          backgroundColor: '#778fc7',
          borderColor: '#778fc7',
        },
        {
          label: 'TinyLFU',
          data: [0.0853,0.0445,0.0605,0.0715,0.0656],
          backgroundColor: '#4F628E',
          borderColor: '#4F628E',
        },
        {
          label: 'S3-FIFO',
          data: [0.0755,0.0424,0.0629,0.0551,0.0622],
          backgroundColor: '#FFA630',
          borderColor: '#FFA630',
        },
      ],
    },
  };


  const optionsChartBarDoubleDatasetsExample = {
    options: {
      scales: {
        y:
        {
          stacked: false,
          ticks: {
            beginAtZero: true,
            font: {
              size: 16,
            },
          },
          title: {
            display: true,
            text: 'Mean Miss Ratio',
            font: {
              size: 20,
            }
          },
        },
        x:
        {
          stacked: false,
          ticks: {
            font: {
              size: 20,
            },
            align: 'right',
          }
        },
      },
      plugins: {
        legend: {
          align: 'end',
          labels: {
            font: {
              size: 18, // Set the font size of the legend here
            },
            // color: '#e6e5e3'
          },
          
        },
      },
    },
  };

  new Chart(
    document.getElementById('bar-chart'),
    dataChartBarDoubleDatasetsExample,
    optionsChartBarDoubleDatasetsExample
  );

  // throughput-chart
  const dataLine = {
    type: 'line',
    data: {
      labels: ['1', '2', '4', '8', '16'],
      datasets: [
        {
          label: 'LRU',
          data: [2, 3, 4, 5, 6],
          borderColor: '#4F628E',
          backgroundColor: '#4F628E',
        },
        {
          label: 'S3-FIFO',
          data: [2, 7, 12, 18, 28],
          borderColor: '#FFA630',
          backgroundColor: '#FFA630',
        },
      ],
    },
  };

  const optionsThroughput = {
    options: {
      scales: {
        x: {
          title: { 
            display: true, 
            text: 'Number of threads', 
            font: {
              size: 20,
            },
            color: '#e6e5e3'
          },
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3'
          },
          // type: 'logarithmic',
        },
        y: {
          title: { 
            display: true, 
            text: 'Throughput (MOPS/s)', 
            font: {
              size: 20,
            },
            color: '#e6e5e3'
          },
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3'
          },
        },
      },

      plugins: {
        legend: {
          labels: {
            font: {
              size: 20, // Set the font size of the legend here
            },
            color: '#e6e5e3'
          },
        },
      },
    },
  };

  new Chart(
    document.getElementById('throughput-chart'),
    dataLine,
    optionsThroughput
  );

  new Chart(
    document.getElementById('throughput-chart-2'),
    dataLine,
    optionsThroughput
  );



  // barchar (cachesize-chart)
  const dataCachesizeBarChart = {
    type: 'bar',
    data: {
      labels: ['Meta', 'Twitter', 'Wikimedia ', 'Alibaba', 'Tencent', 'CDN1', 'CDN2'],
      datasets: [
        {
          label: 'LRU',
          data: [1,1,1,1,1,1,1],
          backgroundColor: '#4F628E',
          borderColor: '#4F628E',
        },
        {
          label: 'S3-FIFO',
          data: [0.78,0.64,0.71,0.81,0.84,0.72,0.54],
          backgroundColor: '#FFA630',
          borderColor: '#FFA630',
        },
      ],
    },
  };


  const optionsdataCachesizeBarChart = {
    options: {
      scales: {
        y:
        {
          stacked: false,
          ticks: {
            beginAtZero: true,
          },
          title: {
            display: true,
            // text: [['Cache Size'], ['to achieve around 10% miss ratio)']],
            // text: ['Cache Size', 'to achieve around 10% miss ratio'],
            text: "Cache Size",
            color: '#e6e5e3',
            font: {
              size: 20,
              
            }
          },
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3',
          }
        },
        x:
        {
          stacked: false,
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3',
          }
        },
      },
      plugins: {
        legend: {
          labels: {
            font: {
              size: 20, // Set the font size of the legend here
            },
            color: '#e6e5e3'
          },
        },
      },
    },
  };

  new Chart(
    document.getElementById('cachesize-bar-chart'),
    dataCachesizeBarChart,
    optionsdataCachesizeBarChart
  );

  // barchar (cachesize-chart)
  const dataOnehitwonderBarChart = {
    type: 'bar',
    data: {
      labels: ['0.01', '0.1', '0.5', '0.8'],
      datasets: [
        {
          label: 'Zipf',
          data: [0.88, 0.80, 0.52, 0.255],
          backgroundColor: '#4F628E',
          borderColor: '#4F628E',
        },
        {
          label: 'MSR',
          data: [0.88, 0.8, 0.52, 0.265],
          backgroundColor: '#507D1D',
          borderColor: '#507D1D',
        },
        {
          label: 'Twitter',
          data: [0.375, 0.26, 0.19, 0.12],
          backgroundColor: '#FFA630',
          borderColor: '#FFA630',
        },
      ],
    },
  };


  const optionsdataOnehitwonderBarChart = {
    options: {
      scales: {
        y:
        {
          stacked: false,
          ticks: {
            beginAtZero: true,
          },
          title: {
            display: true,
            text: 'fraction of evicted objects with frequency one',
            font: {
              size: 22,
            },
            color: '#e6e5e3',
          },
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3',
          }
        },
        x:
        {
          stacked: false,
          title: {
            display: true,
            text: 'Cache size (fraction of objects in the trace)',
            font: {
              size: 28,
            },
            color: '#e6e5e3',
          },
          ticks: {
            font: {
              size: 20,
            },
            color: '#e6e5e3',
          }
        },
      },
      plugins: {
        legend: {
          labels: {
            font: {
              size: 24, // Set the font size of the legend here
            },
            color: '#e6e5e3'
          },
        },
      },
    },
  };

  new Chart(
    document.getElementById('onehitwonder-bar-chart'),
    dataOnehitwonderBarChart,
    optionsdataOnehitwonderBarChart
  );


</script>

{% endblock %}
